!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(9)},function(e,t,n){(function(e){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,t){if(t)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}function i(e){return n({},e)}function o(e,t){for(var n=t.split("."),i=0;i<n.length&&e;i++)e=e[n[i]];return e}function r(e,t){return[].slice.call(e,t)}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function l(e){return void 0===e||null===e}function c(e){return e===!1||l(e)}function u(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function p(e,n,i){var o,r,l,d=arguments.length;if(d>2){var h=typeof i;if(3===d&&"object"!==h&&"function"!==h)c(i)||(o=[String(i)]);else{o=[];for(var f=2;f<d;f++){var m=arguments[f];if(!c(m)){m.join?r=m:(r=J)[0]=m;for(var v=0;v<r.length;v++){var b=r[v],y=!(c(b)||a(b)||b instanceof t);y&&!s(b)&&(b=String(b)),y&&l?o[o.length-1]+=b:c(b)||(o.push(b),l=y)}}}}}else if(n&&n.children)return p(e,n,n.children);n&&(n.children&&delete n.children,a(e)||("className"in n&&(n.class=n.className,delete n.className),l=n.class,l&&!s(l)&&(n.class=u(l))));var g=new t(e,n||void 0,o);return Q.vnode&&Q.vnode(g),g}function d(e,t){return p(e.nodeName,n(i(e.attributes),t),arguments.length>2?r(arguments,2):e.children)}function h(e,t,n){var i=t.split("."),r=i[0];return function(t){var c,u,p,d=t&&t.currentTarget||this,h=e.state,f=h;if(s(n)?(u=o(t,n),l(u)&&(d=d._component)&&(u=o(d,n))):u=d.nodeName?(d.nodeName+d.type).match(/^input(check|rad)/i)?d.checked:d.value:t,a(u)&&(u=u.call(d)),i.length>1){for(p=0;p<i.length-1;p++)f=f[i[p]]||(f[i[p]]={});f[i[p]]=u,u=h[r]}e.setState((c={},c[r]=u,c))}}function f(e){1===ne.push(e)&&(Q.debounceRendering||X)(m)}function m(){if(ne.length){var e,t=ne;for(ne=ie,ie=t;e=t.pop();)e._dirty&&F(e)}}function v(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function b(e,t){return e.nodeName(T(e),t||Z)}function y(e,t){return e[ee]||(e[ee]=t||{})}function g(e){return e instanceof Text?3:e instanceof Element?1:0}function S(e){var t=e.parentNode;t&&t.removeChild(e)}function q(e,t,n,i,o){if(y(e)[t]=n,"key"!==t&&"children"!==t)if("class"!==t||o)if("style"===t){if((!n||s(n)||s(i))&&(e.style.cssText=n||""),n&&"object"==typeof n){if(!s(i))for(var r in i)r in n||(e.style[r]="");for(var r in n)e.style[r]="number"!=typeof n[r]||te[r]?n[r]:n[r]+"px"}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html);else if("o"===t[0]&&"n"===t[1]){var u=e._listeners||(e._listeners={});t=$(t.substring(2)),n?u[t]||e.addEventListener(t,_):u[t]&&e.removeEventListener(t,_),u[t]=n}else if("type"!==t&&!o&&t in e)w(e,t,l(n)?"":n),c(n)&&e.removeAttribute(t);else{var p=o&&t.match(/^xlink\:?(.+)/);c(n)?p?e.removeAttributeNS("http://www.w3.org/1999/xlink",$(p[1])):e.removeAttribute(t):"object"==typeof n||a(n)||(p?e.setAttributeNS("http://www.w3.org/1999/xlink",$(p[1]),n):e.setAttribute(t,n))}else e.className=n||""}function w(e,t,n){try{e[t]=n}catch(e){}}function _(e){return this._listeners[e.type](Q.event&&Q.event(e)||e)}function O(e){for(var t={},n=e.attributes.length;n--;)t[e.attributes[n].name]=e.attributes[n].value;return t}function C(e,t){return s(t)?3===g(e):s(t.nodeName)?P(e,t.nodeName):a(t.nodeName)?e._componentConstructor===t.nodeName||v(t):void 0}function P(e,t){return e.normalizedNodeName===t||$(e.nodeName)===$(t)}function T(e){var t=e.nodeName.defaultProps,o=i(t||e.attributes);return t&&n(o,e.attributes),e.children&&(o.children=e.children),o}function x(e){L(e);var t=$(e.nodeName),n=oe[t];n?n.push(e):oe[t]=[e]}function k(e,t){var n=$(e),i=oe[n]&&oe[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return y(i),i.normalizedNodeName=n,i}function L(e){S(e),1===g(e)&&(y(e,O(e)),e._component=e._componentConstructor=null)}function j(){for(var e;e=re.pop();)e.componentDidMount&&e.componentDidMount()}function E(e,t,n,i,o){ae++;var r=D(e,t,n,i);return o&&r.parentNode!==o&&o.appendChild(r),--ae||j(),r}function D(e,t,n,i){for(var o=t&&t.attributes;v(t);)t=b(t,n);if(l(t))return document.createComment("");if(s(t)){if(e){if(3===g(e)&&e.parentNode)return e.nodeValue!=t&&(e.nodeValue=t),e;x(e)}return document.createTextNode(t)}var r,c=e,u=t.nodeName;if(a(u))return B(e,t,n,i);if(s(u)||(u=String(u)),r="svg"===$(u),r&&(se=!0),e){if(!P(e,u)){for(c=k(u,se);e.firstChild;)c.appendChild(e.firstChild);A(e)}}else c=k(u,se);return t.children&&1===t.children.length&&"string"==typeof t.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=t.children[0]:(t.children||c.firstChild)&&I(c,t.children,n,i),M(c,t.attributes),o&&o.ref&&(c[ee].ref=o.ref)(c),r&&(se=!1),c}function I(e,t,n,i){var o,r,a,s,c=e.childNodes,u=[],p={},d=0,h=0,f=c.length,m=0,v=t&&t.length;if(f)for(var b=0;b<f;b++){var y=c[b],g=v?(r=y._component)?r.__key:(r=y[ee])?r.key:null:null;g||0===g?(d++,p[g]=y):u[m++]=y}if(v)for(var b=0;b<v;b++){if(a=t[b],s=null,d&&a.attributes){var g=a.key;!l(g)&&g in p&&(s=p[g],p[g]=void 0,d--)}if(!s&&h<m)for(o=h;o<m;o++)if(r=u[o],r&&C(r,a)){s=r,u[o]=void 0,o===m-1&&m--,o===h&&h++;break}s=D(s,a,n,i),s!==c[b]&&e.insertBefore(s,c[b]||null)}if(d)for(var b in p)p[b]&&(u[h=m++]=p[b]);h<m&&N(u)}function N(e,t){for(var n=e.length;n--;){var i=e[n];i&&A(i,t)}}function A(e,t){var n=e._component;n?G(n,!t):(e[ee]&&e[ee].ref&&e[ee].ref(null),t||x(e),e.childNodes&&e.childNodes.length&&N(e.childNodes,t))}function M(e,t){var n=e[ee]||O(e);for(var i in n)t&&i in t||q(e,i,null,n[i],se);if(t)for(var o in t)o in n&&t[o]==("value"===o||"selected"===o||"checked"===o?e[o]:n[o])||q(e,o,t[o],n[o],se)}function V(e){var t=e.constructor.name,n=le[t];n?n.push(e):le[t]=[e]}function H(e,t,n){var i=new e(t,n),o=le[e.name];if(o)for(var r=o.length;r--;)if(o[r].constructor===e){i.nextBase=o[r].nextBase,o.splice(r,1);break}return i}function R(e){e._dirty||(e._dirty=!0,f(e))}function W(e,t,n,i,o){var r=e.base;e._disableRendering||(e._disableRendering=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,l(r)||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disableRendering=!1,0!==n&&(1!==n&&Q.syncComponentUpdates===!1&&r?R(e):F(e,1,o)),e.__ref&&e.__ref(e))}function F(e,t,o){if(!e._disableRendering){var r,s,l=e.props,c=e.state,u=e.context,p=e.prevProps||l,d=e.prevState||c,h=e.prevContext||u,f=e.base,m=f||e.nextBase,y=m&&m.nextSibling,g=m&&m.parentNode,S=m&&m._component,q=e._component;if(f&&(e.props=p,e.state=d,e.context=h,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(l,c,u)===!1?r=!0:e.componentWillUpdate&&e.componentWillUpdate(l,c,u),e.props=l,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!r){for(e.render&&(s=e.render(l,c,u)),e.getChildContext&&(u=n(i(u),e.getChildContext()));v(s);)s=b(s,u);var w,_,O=s&&s.nodeName;if(a(O)&&O.prototype.render){var C=q,P=T(s);C&&C.constructor===O?W(C,P,1,u):(w=C,C=H(O,P,u),C._parentComponent=e,e._component=C,W(C,P,0,u),F(C,1)),_=C.base}else{var x=m;w=q,w&&(x=e._component=null),(m||1===t)&&(x&&(x._component=null),_=E(x,s,u,o||!f))}if(m&&_!==m&&(g&&_!==g&&g.insertBefore(_,y||null),w||S!==e||q||!m.parentNode||(m._component=null,A(m))),w&&G(w,!0),e.base=_,_){for(var k=e,L=e;L=L._parentComponent;)k=L;_._component=k,_._componentConstructor=k.constructor}}!f||o?(re.unshift(e),ae||j()):!r&&e.componentDidUpdate&&e.componentDidUpdate(p,d,h);var D,I=e._renderCallbacks;if(I)for(;D=I.pop();)D.call(e);return s}}function B(e,t,n,i){for(var o=e&&e._component,r=e,a=o&&e._componentConstructor===t.nodeName,s=a,l=T(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return!s||i&&!o._component?(o&&!a&&(G(o,!0),e=r=null),o=H(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e),W(o,l,1,n,i),e=o.base,r&&e!==r&&(r._component=null,A(r))):(W(o,l,3,n,i),e=o.base),e}function G(e,t){var n=e.base;e._disableRendering=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var i=e._component;i?G(i,t):n&&(n[ee]&&n[ee].ref&&n[ee].ref(null),e.nextBase=n,t&&(S(n),V(e)),N(n.childNodes,!t)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function z(e,t){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=t||{},this.props=e,this.state=this.getInitialState&&this.getInitialState()||{}}function U(e,t,n){return E(n,e,{},!1,t)}var Y={},$=function(e){return Y[e]||(Y[e]=e.toLowerCase())},K="undefined"!=typeof Promise&&Promise.resolve(),X=K?function(e){K.then(e)}:setTimeout,Q={vnode:l},J=[],Z={},ee="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",te={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},ne=[],ie=[],oe={},re=[],ae=0,se=!1,le={};n(z.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={}),i=e+"|"+t;return n[i]||(n[i]=h(this,e,t))},setState:function(e,t){var o=this.state;this.prevState||(this.prevState=i(o)),n(o,a(e)?e(o,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),R(this)},forceUpdate:function(){F(this,2)},render:function(){return null}}),e.h=p,e.cloneElement=d,e.Component=z,e.render=U,e.rerender=m,e.options=Q})}).call(t,n(22).setImmediate)},function(e,t){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.register=function(e,t){this[e]=t},n.prototype.unregister=function(e){delete this[e]},n.prototype.get=function(e){var t=this[e];return void 0!==t?t:this.default},n.prototype.registerDefault=function(e){this.default=e};var i;i||(i={items:new n,containers:new n}),t.default=i},function(e,t,n){"use strict";function i(e,t,n){var i=t.actions;if(i){var s=t.qListObject.qDataPages[0].qMatrix,c=s.filter(function(e){return l(e)}).map(function(e){return u(e)});if(0!=c.length){var p={};i.map(function(e){"ApplyPatch"===e.action&&o(e,c,p)}),i.map(function(t){"ApplyPatch"===t.action?r(e,t,c,p,n):"FieldAPI"===t.action&&a(e,t)})}}}function o(e,t,n){n[e.object]||(n[e.object]=[]),e.isCustomValue&&e.patchValue&&(t=e.patchValue.split(";")),n[e.object].push({qOp:e.patchOperation,qPath:e.patchPath,qValue:JSON.stringify(1==t.length?t[0]:t)})}function r(e,t,n,i,o){var r=i[t.object];if(r){var a=(0,p.getSelectedObject)(t.object),s=a.object,l=a.objectType;switch(l){case"dimension":(0,d.dimensionApplyPatch)(e,s,r,o);break;case"measure":(0,d.measureApplyPatch)(e,s,r,o);break;case"bookmark":(0,d.bookmarkApplyPatch)(e,s,r,o);break;case"variable":(0,d.variableApplyPatch)(e,s,r,o);break;case"visualization":default:e.getObjectProperties(s).then(function(e){e.applyPatches(r,o)})}delete i[t.object]}}function a(e,t){var n=(0,p.getSelectedObject)(t.object),i=n.object;n.objectType;if(i){var o=t.patchOperation,r={};if(t.patchValue&&t.patchValue.length&&t.patchValue.length>0)try{r=JSON.parse(t.patchValue)}catch(e){}(0,d.CallFieldAPIMethod)(e,i,o,r)}}function s(e,t){var n=t[0];return!e||"X"!=n.qState&&"XS"!=n.qState&&"XL"!=n.qState}function l(e){var t=e[0];return"S"===t.qState||"L"===t.qState}function c(e){var t=e[0];return"O"===t.qState||"A"===t.qState}function u(e){return"number"==typeof e[0].qNum?e[0].qNum:e[0].qText}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.filterExcluded=s,t.isSelectedItem=l,t.isOptionalItem=c,t.getFieldValue=u;var p=n(5),d=n(6)},function(e,t,n){"use strict";function i(e){var t=e.Qlik,n=e.setAlwaysOneSelectedValue,i=void 0,h={type:"items",label:"Actions",translation:"Storytelling.play.actions",items:{actions:{type:"array",ref:"actions",label:"Actions",itemTitleRef:"object",allowAdd:!0,allowRemove:!0,addTranslation:"Common.Create",items:{actions:{ref:"action",label:"Action",translation:"Storytelling.play.actions",type:"string",component:"dropdown",options:[{value:r.APPLYPATCH_ACTION_TYPE,label:"Apply patch"},{value:r.FIELDAPI_ACTION_TYPE,label:"Field API"}],change:function(e){i=e.action}},object:{ref:"object",label:"Object",translation:"Common.CustomObjects",type:"string",component:r.ObjectSelectionComponent,onInit:function(e){return{app:t.currApp()}}},patchOperation:{ref:"patchOperation",label:"Operation",translation:"DataManager.ExpressionEditor.Operations",component:"dropdown",options:function(e){!e.action||"undefined"!=typeof i&&i==e.action||(i=e.action);var t=i;switch(t){case r.APPLYPATCH_ACTION_TYPE:return u;case r.FIELDAPI_ACTION_TYPE:return p;default:return[]}},defaultValue:"",change:function(e){if(e.action===r.FIELDAPI_ACTION_TYPE){var t=d[e.patchOperation];void 0!=("undefined"==typeof t?"undefined":o(t))&&(e.patchValue=t)}}},patchPath:{ref:"patchPath",label:"Patch path",translation:"Common.Custom",component:r.PropertySelectionComponent,onInit:function(){return{app:t.currApp()}},type:"string",show:function(e){return e.action==r.APPLYPATCH_ACTION_TYPE}},customValue:{ref:"isCustomValue",type:"boolean",label:"Supply value",translation:"properties.value",defaultValue:!1,show:function(e){return e.action==r.APPLYPATCH_ACTION_TYPE}},patchValue:{ref:"patchValue",label:"Value",translation:"properties.value",type:"string",expression:"optional",show:function(e){return e.isCustomValue||e.action==r.FIELDAPI_ACTION_TYPE}}}}}},f={type:"items",translation:"Common.Dimension",ref:"qListObjectDef",min:1,max:1,allowAdd:!0,allowRemove:!0,items:{cId:{ref:"qListObjectDef.qDef.cId",type:"dimension",show:!1},libraryId:{type:"string",component:"library-item",libraryItemType:"dimension",ref:"qListObjectDef.qLibraryId",label:"Dimension",translation:"Common.Dimension",show:function(e){return e.qListObjectDef&&e.qListObjectDef.qLibraryId}},label:{type:"string",ref:"qListObjectDef.qDef.qFieldLabels.0",label:"Label",translation:"Common.Label",show:!0},field:{type:"string",component:"expression",expression:"always",expressionType:"dimension",ref:"qListObjectDef.qDef.qFieldDefs.0",translation:"Common.Field",show:function(e){return!e.qListObjectDef.qLibraryId},change:function(e){var t=e.qListObjectDef.qDef;t.qFieldLabels||(t.qFieldLabels=[]),t.qFieldLabels[0]=t.qFieldDefs[0]}},expression:{type:"string",component:"expression",expressionType:"measure",ref:"qListObjectDef.qExpressions.0.qExpr",translation:"Common.Measure"},clearDimension:{type:"boolean",component:r.RemoveButtonComponent,ref:"clearDimension",show:function(e){return e.qListObjectDef.qLibraryId||e.qListObjectDef.qDef.qFieldDefs[0]},remove:function(e){delete e.qListObjectDef.qLibraryId,e.qListObjectDef.qDef.qFieldDefs[0]="",e.qListObjectDef.qDef.qFieldLabels[0]="",e.clearDimension=!1}},showFirstN:{type:"boolean",translation:"properties.dimensionLimits.limitation",ref:"showFirstN",defaultValue:!1},firstN:{type:"number",translation:"properties.dimensionLimits.fixedNumber",ref:"firstN",defaultValue:0,show:function(e){return e.showFirstN}}}},m={translation:"properties.sorting",type:"items",ref:"qListObjectDef",items:{qSortByLoadOrder:{type:"numeric",component:"dropdown",label:"Sort by Load Order",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByLoadOrder",options:[{value:1,label:"Ascending"},{value:0,label:"No"},{value:-1,label:"Descending"}],defaultValue:0},qSortByState:{type:"numeric",component:"dropdown",label:"Sort by State",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByState",options:[{value:1,label:"Ascending"},{value:0,label:"No"},{value:-1,label:"Descending"}],defaultValue:0},qSortByFrequency:{type:"numeric",component:"dropdown",translation:"properties.sorting.sortByFrequency",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByFrequency",options:[{value:-1,label:"Ascending"},{value:0,label:"No"},{value:1,label:"Descending"}],defaultValue:0},qSortByNumeric:{type:"numeric",component:"dropdown",translation:"properties.sorting.sortByNumeric",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByNumeric",options:[{value:1,label:"Ascending"},{value:0,label:"No"},{value:-1,label:"Descending"}],defaultValue:0},qSortByAscii:{type:"numeric",component:"dropdown",translation:"properties.sorting.sortByAlphabetic",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByAscii",options:[{value:1,label:"Ascending"},{value:0,label:"No"},{value:-1,label:"Descending"}],defaultValue:0},qSortByExpression:{type:"numeric",component:"dropdown",translation:"properties.sorting.sortByExpression",ref:"qListObjectDef.qDef.qSortCriterias.0.qSortByExpression",options:[{value:1,label:"Ascending"},{value:0,label:"No"},{value:-1,label:"Descending"}],defaultValue:0},qExpression:{type:"string",expression:"always",expressionType:"expression",ref:"qListObjectDef.qDef.qSortCriterias.0.qExpression.qv",translation:"Common.Expression",show:function(e){return e.qListObjectDef&&e.qListObjectDef.qDef&&e.qListObjectDef.qDef.qSortCriterias.length>0&&e.qListObjectDef.qDef.qSortCriterias[0].qSortByExpression&&0!==e.qListObjectDef.qDef.qSortCriterias[0].qSortByExpression}}}},v={type:"items",uses:"settings",items:{additionalOptions:{type:"items",label:"Options",translation:"properties.presentation",items:{render:{type:"string",component:"dropdown",label:"Render as",ref:"renderAs",options:[{value:a,label:"Buttons"},{value:s,label:"Check boxes"},{value:l,label:"Switch"},{value:c,label:"Select"}],defaultValue:a},showState:{type:"boolean",label:"Show state",ref:"showState",show:function(e){return"button"===e.renderAs},defaultValue:!1},alwaysOneSelectedValue:{type:"boolean",label:"Always one selected value",ref:"alwaysOneSelected",defaultValue:!1,change:function(e){e.qListObjectDef.qDef.qFieldDefs.length>0&&n(e.qListObjectDef.qDef.qFieldDefs[0],e.alwaysOneSelected)}},lockSelection:{type:"boolean",label:"Lock selection",ref:"lockSelection",defaultValue:!1},itemsLayout:{ref:"itemsLayout",type:"string",translation:"properties.orientation",component:"buttongroup",defaultValue:"v",horizontal:!0,options:[{label:"vertical",translation:"properties.orientation.vertical",value:"v"},{label:"horizontal",translation:"Common.Horizontal",value:"h"}],show:function(e){return!("select"===e.renderAs||"multiselect"===e.renderAs)}},hideLabel:{type:"boolean",label:"Hide label",ref:"hideLabel",defaultValue:!1},hideExcluded:{type:"boolean",label:"Hide excluded",ref:"hideExcluded",defaultValue:!1},transparent:{type:"boolean",label:"Transparent style",ref:"transparentStyle",defaultValue:!1},compactMode:{type:"boolean",label:"Compact mode",ref:"compactMode",defaultValue:!1,show:function(e){return!("select"===e.renderAs)}},toggleMode:{type:"boolean",label:"Toggle mode",ref:"toggleMode",defaultValue:!1,show:function(e){return!("select"===e.renderAs)}}}}}};return{type:"items",component:"accordion",items:{dimensions:f,sorting:m,actions:h,settings:v}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_RENDER=t.SWITCH_RENDER=t.CHECKBOX_RENDER=t.BUTTON_RENDER=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=i;var r=n(10),a=t.BUTTON_RENDER="button",s=t.CHECKBOX_RENDER="sensecheckbox",l=t.SWITCH_RENDER="senseswitch",c=t.SELECT_RENDER="select",u=[{value:"add",label:"Add"},{value:"replace",label:"Replace"},{value:"remove",label:"Remove"}],p=[{value:"Clear",label:"Clear"},{value:"ClearAllButThis",label:"ClearAllButThis"},{value:"Lock",label:"Lock"},{value:"Unlock",label:"Unlock"},{value:"SelectAll",label:"SelectAll"},{value:"SelectAlternative",label:"SelectAlternative"},{value:"SelectPossible",label:"SelectPossible"},{value:"SelectExcluded",label:"SelectExcluded"},{value:"Select",label:"Select"},{value:"SelectValues",label:"SelectValues"},{value:"LowLevelSelect",label:"LowLevelSelect"},{value:"ToggleSelect",label:"ToggleSelect"},{value:"SetAndMode",label:"SetAndMode"},{value:"SetNxProperties",label:"SetNxProperties"}],d={Clear:"",ClearAllButThis:'{\n\t\t"qSoftLock": false\n\t}',Lock:"",Unlock:"",SelectAll:'{\n    "qSoftLock": false\n  }',SelectAlternative:'{\n    "qSoftLock": false\n  }',SelectPossible:'{\n    "qSoftLock": false\n  }',SelectExcluded:'{\n    "qSoftLock": false\n  }',Select:'{\n\t\t"qMatch": "",\n\t\t"qSoftLock": false,\n\t\t"qExcludedValuesMode": 0\n\t}',SelectValues:'{\n\t\t"qFieldValues": [\n\t\t\t{\n\t\t\t\t"qText": "",\n\t\t\t\t"qIsNumeric": false,\n\t\t\t\t"qNumber": 0\n\t\t\t}\n\t\t],\n\t\t"qToggleMode": false,\n\t\t"qSoftLock": false\n\t}',LowLevelSelect:'{\n\t\t"qValues": [\n\t\t\t0\n\t\t],\n\t\t"qToggleMode": false,\n\t\t"qSoftLock": false\n\t}',ToggleSelect:'{\n\t\t"qMatch": "",\n\t\t"qSoftLock": false,\n\t\t"qExcludedValuesMode": 0\n\t}',SetAndMode:'{\n\t\t"qAndMode": false\n\t}',SetNxProperties:'{\n\t\t"qProperties": {\n\t\t\t"qOneAndOnlyOne": false\n\t\t}\n\t}'}},function(e,t){"use strict";function n(e,t){var n=e,i=t,o=t.split(".");if(o.length>0){for(var r=0;r<o.length-1;++r)n[o[r]]&&(n=n[o[r]]);i=o[o.length-1]}return{ref:n,name:i}}function i(e,t,i){var o=n(e,t),r=o.ref,a=o.name;r[a]=i}function o(e,t){var i=n(e,t),o=i.ref,r=i.name;return o[r]}function r(e){var t=e&&e.split(":")||["",""],n=t[0].trim(),i=t.length>1&&t[1].trim().toLowerCase()||"";return{object:n,objectType:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.setRefValue=i,t.getRefValue=o,t.getSelectedObject=r},function(e,t){"use strict";function n(e,t){var n=void 0;return n=t.result&&t.result.qReturn&&t.result.qReturn.qHandle?e.global.session.rpc({handle:t.result.qReturn.qHandle,method:"GetProperties",params:{}}):Promise.reject()}function i(e,t,n,i){var o=void 0,r={qPatches:n};return void 0!=("undefined"==typeof i?"undefined":w(i))&&(r.qSoftPatch=i),o=t.result&&t.result.qReturn&&t.result.qReturn.qHandle?e.global.session.rpc({handle:t.result.qReturn.qHandle,method:"ApplyPatches",params:r}):Promise.reject()}function o(e,t){return e.global.session.rpc({handle:e.model.handle,method:"GetDimension",params:{qId:t}})}function r(e,t){return o(e,t).then(function(t){return n(e,t)})}function a(e,t,n,r){return o(e,t).then(function(t){return i(e,t,n)})}function s(e,t){return e.global.session.rpc({handle:e.model.handle,method:"GetMeasure",params:{qId:t}})}function l(e,t){return s(e,t).then(function(t){return n(e,t)})}function c(e,t,n,o){return s(e,t).then(function(t){return i(e,t,n)})}function u(e,t){return e.global.session.rpc({handle:e.model.handle,method:"GetBookmark",params:{qId:t}})}function p(e,t){return u(e,t).then(function(t){return n(e,t)})}function d(e,t,n,o){return u(e,t).then(function(t){return i(e,t,n)})}function h(e,t){return e.global.session.rpc({handle:e.model.handle,method:"GetVariableById",params:{qId:t}})}function f(e,t){return h(e,t).then(function(t){return n(e,t)})}function m(e,t,n,o){return h(e,t).then(function(t){return i(e,t,n)})}function v(e,t){return e.global.session.rpc({handle:t.result.qReturn.qHandle,method:"GetLayout",params:[]})}function b(e){var t=arguments.length<=1||void 0===arguments[1]?{qShowSystem:!1,qShowHidden:!0,qShowDerivedFields:!0,qShowSemantic:!0,qShowSrcTables:!0,qShowImplicit:!0}:arguments[1];return e.global.session.rpc({name:"FIELDLIST",method:"CreateSessionObject",handle:e.model.handle,params:[{qInfo:{qType:"FieldList"},qFieldListDef:t}]}).then(function(t){return v(e,t)})}function y(e,t){return e.global.session.rpc({method:"DestroySessionObject",handle:e.model.handle,params:{qId:t}})}function g(e,t){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return e.global.session.rpc({handle:e.model.handle,method:"GetField",params:{qFieldName:t,qStateName:n}})}function S(e,t,n,i){var o=void 0;return o=t.result&&t.result.qReturn&&t.result.qReturn.qHandle?e.global.session.rpc({handle:t.result.qReturn.qHandle,method:n,params:i}):Promise.reject()}function q(e,t,n,i){var o=arguments.length<=4||void 0===arguments[4]?"":arguments[4];return g(e,t,o).then(function(t){return S(e,t,n,i)})}Object.defineProperty(t,"__esModule",{value:!0});var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.GetDimensionProperties=r,t.dimensionApplyPatch=a,t.GetMeasureProperties=l,t.measureApplyPatch=c,t.GetBookmarkProperties=p,t.bookmarkApplyPatch=d,t.GetVariableProperties=f,t.variableApplyPatch=m,t.GetFieldList=b,t.DestroySessionObject=y,t.GetField=g,t.CallFieldAPIMethod=q},function(e,t){"use strict";function n(e){var t=this,n=null,i=function(){n&&(clearTimeout(n),n=null)};return{onClick:function(n){t.base.onmousemove=null,e.finishSelection(n),e.changeHandler&&e.changeHandler(n)},onDragStart:function(n){n.preventDefault(),e.changeSelection(n),t.base.onmousemove=function(t){t.buttons>0&&e.changeSelection(t)}},onDragEnd:function(n){t.base.onmousemove=null,e.finishSelection(n)},onMouseUp:function(n){t.base.onmousemove=null,e.finishSelection(n)},onMouseLeave:function(n){t.base.onmousemove=null,e.finishSelection(n)},onTouchStart:function(o){o.preventDefault(),i(),t.base.onmousemove=null,n=setTimeout(function(){e.changeHandler&&e.changeHandler(o),e.finishSelection(o)},250)},onTouchMove:function(t){t.preventDefault(),i(),e.changeSelection(t)},onTouchEnd:function(t){t.preventDefault(),e.finishSelection(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectionEvents=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupComponent=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),u=n(2),p=i(u),d=n(7),h=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.text,i=e.state,o=e.width,r=e.showState,a=this.props.itemsLayout,s=["lui-button","qui-button","selectable"];if(this.props.transparentStyle?s.push("transparent-button"):s.push("lui-button--toolbar"),"h"===a?s.push("btns--horizontal"):s.push("btns--vertical"),r)switch(i){case"X":case"XS":case"XL":s.push("excluded");break;case"A":s.push("alternative")}var l={};return this.props.isSelected&&(s.push("selected"),l.backgroundImage="none",l.backgroundColor=this.props.selectionColor),o&&(l.width=o),(0,c.h)("button",{"data-value":t,"data-text":n,draggable:"true",className:s.join(" "),style:l,title:n},n)}}]),t}(c.Component);t.default=h;var f=t.ButtonGroupComponent=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n.eventsInjector=d.selectionEvents.bind(n,n.props),n}return a(t,e),l(t,[{key:"render",value:function(e){var t=this.props,n=t.titleWidth,i=(t.isChanging,t.isScroll),o=t.isPopup,r=t.isHidden,a=o||i?47:0,l=a;n&&(l+=n);var u={width:"calc(100% - "+l+"px)",position:"relative"};return r&&(u.visibility="hidden"),(o||i)&&(u.paddingLeft=a+"px"),(0,c.h)("div",s({class:"lui-buttongroup qui-buttongroup",style:u},this.eventsInjector()),e.children)}}]),t}(c.Component);p.default.containers.register("button",f),p.default.items.register("button",h)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(12),a=i(r),s=n(4),l=i(s),c=n(14),u=i(c),p=window,d=window.requirejs.defined,h=p.define||h;h("resource-not-defined",function(){return null});var f=["module","qlik"].map(function(e){return d(e)||"module"===e?e:"qlik"===e&&d("js/qlik")?"js/qlik":"resource-not-defined"});h(f.concat("css!./styles.css"),function(e,t){var n=(0,l.default)({Qlik:t,setAlwaysOneSelectedValue:function(e,n){var i=t.currApp();i.global.session.rpc({method:"GetField",handle:i.model.handle,params:[""+e]}).then(function(e){if(e.result&&e.result.qReturn&&"Field"===e.result.qReturn.qType){var t=e.result.qReturn.qHandle;i.global.session.rpc({handle:t,method:"SetNxProperties",params:{qProperties:{qOneAndOnlyOne:n}}})}})}}),i=(0,u.default)({Qlik:t});return o({initialProperties:a.default,definition:n},i,{snapshot:{canTakeSnapshot:!1}})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return Array.isArray(e)?e:Array.from(e)}function s(e){var t=e.luiIcon,n=e.showSelectionDialog;return{template:'\n    <div class="pp-component" ng-if="visible">\n      <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n        {{label}}\n      </div>\n      <div class="lui-input-group" ng-if="!loading">\n          <input class="lui-input-group__item  lui-input-group__input  lui-input" ng-model="t.value" ng-change="onDataChange()"/>\n          <button class="lui-input-group__item  lui-input-group__button  lui-button" qva-activate="showSelectionDialog()">\n              <span class="lui-button__icon  lui-icon '+t+'"></span>\n          </button>\n      </div>\n      <div class="pp-loading-container" ng-if="loading">\n        <div class="pp-loader qv-loader"></div>\n      </div>\n      <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n    </div>\n      ',controller:["$scope",function(e){function t(){e.loading=!0,e.errorMessage="",e.label=e.definition.label,e.t={value:(0,_.getRefValue)(e.data,e.definition.ref)},e.visible=!0,e.loading=!1}e.showSelectionDialog=n&&n.bind(e),e.onDataChange=function(t){(0,_.setRefValue)(e.data,e.definition.ref,e.t.value),"function"==typeof e.definition.change&&e.definition.change(e.data,e.args.handler,t),e.$emit("saveProperties")},t()}]}}function l(e,t){var n=(0,_.getSelectedObject)(t),i=n.object,o=n.objectType,r=void 0;switch(o){case"dimension":r=(0,x.GetDimensionProperties)(e,i).then(function(e){return Promise.resolve(e&&e.result&&e.result.qProp||e)});break;case"measure":r=(0,x.GetMeasureProperties)(e,i).then(function(e){return Promise.resolve(e&&e.result&&e.result.qProp||e)});break;case"bookmark":r=(0,x.GetBookmarkProperties)(e,i).then(function(e){return Promise.resolve(e&&e.result&&e.result.qProp||e)});break;case"variable":r=(0,x.GetVariableProperties)(e,i).then(function(e){return Promise.resolve(e&&e.result&&e.result.qProp||e)});break;case"visualization":default:r=e.getObjectProperties(i).then(function(e){return Promise.resolve(e.properties)})}return r}function c(e){return e.getList("sheet").then(function(e){return e.layout.qAppObjectList.qItems.reduce(function(e,t){return e[t.qInfo.qId]={title:t.qMeta.title,subitems:t.qData.cells},e},{})})}function u(e){return e.getList("masterobject").then(function(e){
return e.layout.qAppObjectList.qItems.reduce(function(e,t){return e[t.qInfo.qId]=t.qData.visualization+' "'+t.qMeta.title+'"',e},{})})}function p(e){return e.getList("DimensionList").then(function(e){return e.layout.qDimensionList.qItems.reduce(function(e,t){return e[t.qInfo.qId]=t.qMeta.title,e},{})})}function d(e){return e.getList("MeasureList").then(function(e){return e.layout.qMeasureList.qItems.reduce(function(e,t){return e[t.qInfo.qId]=t.qMeta.title,e},{})})}function h(e){return e.getList("BookmarkList").then(function(e){return e.layout.qBookmarkList.qItems.reduce(function(e,t){return e[t.qInfo.qId]=t.qMeta.title,e},{})})}function f(e){return e.getList("VariableList").then(function(e){return e.layout.qVariableList.qItems.reduce(function(e,t){return e[t.qInfo.qId]=t.qName,e},{})})}function m(e,t){var n=a(e),i=n[0],o=n.slice(1),s=[];for(var l in i){var c=i[l];s=s.concat(c.subitems.map(function(e){return t.getObjectProperties(e.name).then(function(t){e.title=t.properties.title&&t.properties.title.qStringExpression&&t.properties.title.qStringExpression.qExpr||t.properties.title,e.type=t.properties.visualization||t.properties.qInfo.qType}).catch(function(e){})}))}return Promise.all(s).then(function(e){return[i].concat(r(o))})}function v(e){return Promise.all([c(e),u(e),p(e),d(e),h(e),f(e)]).then(function(t){return m(t,e)}).then(function(e){var t,n=q(e,6),i=n[0],r=n[1],a=n[2],s=n[3],l=n[4],c=n[5];return t={Sheets:i},o(t,"Master visualizations",r),o(t,"Master dimensions",a),o(t,"Master measures",s),o(t,"Bookmarks",l),o(t,"Variables",c),t})}function b(e){return Promise.all([(0,x.GetFieldList)(e)]).then(function(t){var n=t.length>0&&t[0].result.qLayout.qFieldList.qItems||[];n.sort&&n.sort(function(e,t){return e.qName>t.qName?1:e.qName<t.qName?-1:0});var i=n.reduce(function(e,t){return e[t.qName]=t.qTags.toString(),e},{});return(0,x.DestroySessionObject)(e,t[0].result.qLayout.qInfo.qId),{Fields:i}})}function y(e,t){return(0,w.h)(P.RootPropertyComponent,{currentSelection:t.object,properties:e,onSelectItem:function(e,n){t.object=e,t.objectType=n.objectType}},(0,w.h)(T.default,{name:"Sheets",onGetName:function(e){return e.name?e.name:e},onGetValue:function(e){return e.properties&&e.properties.title?e.properties&&e.properties.title:e.type?e.type+' "'+e.title+'"':void 0},icon:"lui-icon--sheet",onGetIcon:function(e){if(3===e.level){var t=e.value&&e.value.split('"',1);return t&&t.length&&(0,P.getIconName)(t[0].trim())||null}},level:1,properties:e.Sheets,onGetSubItems:function(e){return e.properties&&e.properties.subitems?e.properties.subitems:e.properties&&"object"==S(e.properties)?Object.keys(e.properties):[]},onGetMetaData:function(e){var t=void 0;2==e.level?t="sheet":3==e.level&&(t="visualization"),e.objectType=t},isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0}),(0,w.h)(T.default,{name:"Master dimensions",icon:"lui-icon--box",level:1,properties:e["Master dimensions"],isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){2==e.level&&(e.objectType="dimension")}}),(0,w.h)(T.default,{name:"Master measures",icon:"lui-icon--expression",level:1,properties:e["Master measures"],isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){2==e.level&&(e.objectType="measure")}}),(0,w.h)(T.default,{name:"Master visualizations",icon:"lui-icon--object",onGetIcon:function(e){if(2===e.level){var t=e.value.split('"',1);return t.length&&(0,P.getIconName)(t[0].trim())||null}},level:1,properties:e["Master visualizations"],isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){2==e.level&&(e.objectType="visualization")}}),(0,w.h)(T.default,{name:"Bookmarks",icon:"lui-icon--bookmark",level:1,properties:e.Bookmarks,isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){2==e.level&&(e.objectType="bookmark")}}),(0,w.h)(T.default,{name:"Variables",icon:"data-icon=variables",level:1,properties:e.Variables,isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){2==e.level&&(e.objectType="variable")}}))}function g(e,t){return(0,w.h)(P.RootPropertyComponent,{currentSelection:t.object,properties:e,onSelectItem:function(e,n){t.object=e,t.objectType=n.objectType}},(0,w.h)(T.default,{name:"Fields",icon:"lui-icon--field",level:0,properties:e.Fields,isExcludeFromSelection:!0,isGetLastSelectedItem:!0,isHideType:!0,onGetMetaData:function(e){1==e.level&&(e.objectType="field")}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectSelectionComponent=t.PropertySelectionComponent=t.RemoveButtonComponent=t.FIELDAPI_ACTION_TYPE=t.APPLYPATCH_ACTION_TYPE=void 0;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},q=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=n(1),_=n(5),O=n(11),C=i(O),P=n(16),T=i(P),x=n(6),k=t.APPLYPATCH_ACTION_TYPE="ApplyPatch";t.FIELDAPI_ACTION_TYPE="FieldAPI",t.RemoveButtonComponent={template:'\n    <div class="pp-component" ng-if="visible">\n          <div class="label" ng-if="label" ng-class="{ \'disabled\': readOnly }">\n            {{label}}\n          </div>\n          <div class="value">\n            <div ng-if="!loading">\n              <button class="qui-outlinebutton lui-button lui-button--full-width" qva-activate="remove()">\n                <span class="lui-button__text" q-translation="Common.Delete"></span>\n                <span class="lui-button__icon lui-icon lui-icon--bin remove-icon" q-title-translation="Common.Delete">&nbsp;</span>\n            \t</button>\n            </div>\n            <div class="pp-loading-container" ng-if="loading">\n              <div class="pp-loader qv-loader"></div>\n            </div>\n            <div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n          </div>\n    </div>\n    ',controller:["$scope","$element",function(e,t){function n(){e.loading=!0,e.errorMessage="",e.visible=!0,e.loading=!1}n(),e.remove=function(){"function"==typeof e.definition.remove&&e.definition.remove(e.data,e.args.handler),e.$emit("saveProperties")},e.$on("datachanged",function(){n()})}]},t.PropertySelectionComponent=s({luiIcon:"lui-icon--effects",showSelectionDialog:function(){var e=this,t=e.definition.onInit&&e.definition.onInit(),n=t.app;n&&l(n,e.data.object).then(function(t){var n=e.t.value;(0,C.default)((0,w.h)(T.default,{name:"",properties:t,currentSelection:n,onSelectItem:function(e){n=e}}),{DialogTitle:t.qInfo.qId+" ("+t.qInfo.qType+") : "+(t.title||t.qMetaDef&&t.qMetaDef.title),LabelOK:"OK",LabelCancel:"Cancel",onApply:function(){e.t.value=n,e.onDataChange()}})})}}),t.ObjectSelectionComponent=s({luiIcon:"lui-icon--shapes",showSelectionDialog:function(){var e=this,t=e.definition.onInit&&e.definition.onInit(e.data),n=t.app;n&&!function(){var t=void 0,i=void 0;e.data.action===k?(t=v(n),i=y):(t=b(n),i=g),t.then(function(t){var n=(0,_.getSelectedObject)(e.t.value);(0,C.default)(i(t,n),{DialogTitle:""+n.object,LabelOK:"OK",LabelCancel:"Cancel",onApply:function(){e.t.value=n.object+" : "+n.objectType,e.onDataChange()}})})}()}})},function(e,t,n){"use strict";function i(e,t){var n=t.DialogTitle,i=void 0===n?"":n,s=t.LabelOK,l=void 0===s?"OK":s,c=t.LabelCancel,u=t.width,p=void 0===u?"85%":u,d=t.height,h=void 0===d?"85%":d,f=t.onApply;a||(a=document.createElement("div"),a.id="qsSimpleList-popupNode",a.className="lui-modal-background sl-modal-background",setTimeout(function(){a.onclick=function(e){e.target==a&&(e.preventDefault(),e.stopPropagation(),o())},a.ontouchstart=a.onclick},500),document.body.appendChild(a));var m=function(){o(),f&&f()},v=function(){return(0,r.render)((0,r.h)("div",{className:"lui-dialog",style:{width:p,height:h,position:"absolute",top:0,left:0,bottom:0,right:0}},(0,r.h)("div",{class:"lui-dialog__header"},(0,r.h)("div",{class:"lui-dialog__title"},i)),(0,r.h)("div",{className:"lui-dialog__body dialog__body"},e),(0,r.h)("div",{className:"lui-dialog__footer"},c&&(0,r.h)("button",{className:"lui-button lui-dialog__button",onClick:o,onTouchStart:o},c),(0,r.h)("button",{className:"lui-button lui-dialog__button close-button",autofocus:"true",onClick:m,onTouchStart:m},l))),a,a.lastChild)};return v(),v}function o(){return!!a&&(a.removeChild(a.lastChild),document.body.removeChild(a),a=void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(1),a=void 0},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:1,showTitles:!0,qListObjectDef:{qShowAlternatives:!0,qFrequencyMode:"V",qDef:{qSortCriterias:[{qSortByState:0,qSortByLoadOrder:0,qSortByFrequency:0,qSortByNumeric:0,qSortByAscii:0,qSortByExpression:0,qExpression:{qv:""}}]},qExpressions:[],qInitialDataFetch:[{qWidth:2,qHeight:1e3}]},actions:[],selectionMode:"QUICK",selectionEnabled:!0,renderAs:"button",alwaysOneSelected:!1,lockSelection:!1,itemsLayout:"v"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),u=n(2),p=i(u),d=n(8),h=(i(d),n(17)),f=(i(h),n(18)),m=(i(f),n(4)),v=n(15),b=n(7),y=n(3),g=i(y),S="title",q="render",w="init",_="commit",O="popup",C="size",P="scroll",T=80,x=44,k=64,L=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n.state={isSelectionStarted:!1,currentSelections:[],qLastSelected:-1,containerWidth:"",containerWidthValue:void 0,containerHeightValue:void 0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,wasGrow:!1,hideLabel:e.options.hideLabel,isChanging:!0,changeType:w,renderAs:void 0,isCompactMode:!1,isHorizontalScroll:!1,isVerticalScroll:!1},n._title=void 0,n._main=void 0,n._container=void 0,n.popupService=(0,v.createPopupService)(),n.eventsInjector=b.selectionEvents.bind(n,{changeHandler:n.selectionHandler.bind(n),changeSelection:n.changeSelection.bind(n),finishSelection:n.finishSelection.bind(n)}),n.onUpdateData=n.onUpdateData.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.recalcSize()}},{key:"componentDidUpdate",value:function(){(this.props.options.isResize||this.state.changeType===_||this.state.changeType===P||this.state.changeType===C||this.state.changeType===q)&&this.recalcSize()}},{key:"componentWillReceiveProps",value:function(e){var t=e.options.area,n=this.props.options.area;e.options.hideLabel==this.props.options.hideLabel&&t.qHeight==n.qHeight&&t.qWidth==n.qWidth&&t.qLeft==n.qLeft&&t.qTop==n.qTop||this.setState({isChanging:!0,changeType:C,hideLabel:e.options.hideLabel})}},{key:"componentWillUnmount",value:function(){this.popupService.removePopupIfExists()}},{key:"itemsToDraw",value:function(e,t){var n=this.props.options,i=n.selectionColor,o=n.transparentStyle,r=n.itemsLayout,a=n.showState,s=n.expValuesInsteadOfField,l=this.state.renderAs||this.props.options.renderAs,u=this.getItemWidth(e.length,r),d=p.default.items.get(l),h=e.map(function(e){var n=e[0],p=e.length>1&&e[1]||null,h=(0,y.isSelectedItem)(e);return h&&t&&t(n),(0,c.h)(d,{key:n.qElemNumber,data:n.qElemNumber,width:u,text:s&&p?p.qText:n.qText,state:n.qState,isSelected:h,renderAs:l,selectionColor:i,transparentStyle:o,itemsLayout:r,showState:a})});return h}},{key:"isAlwaysOneSelected",value:function(){return this.props.options.alwaysOneSelected||"select"===this.props.options.renderAs}},{key:"isExpandButtonShow",value:function(){var e=this.state.renderAs||this.props.options.renderAs;return(this.state.isCompactMode||this.props.options.compactMode||this.state.isHorizontalScroll||this.state.isVerticalScroll||this.popupService.isPopupShow())&&e!==m.SELECT_RENDER}},{key:"isHideTitle",value:function(){return this.props.options.hideLabel||this.state.hideLabel||this.isExpandButtonShow()}},{key:"render",value:function(){var e=this,t=this.props.options.itemsLayout,n=this.state.renderAs||this.props.options.renderAs,i=this.state.isCompactMode||this.props.options.compactMode,o=p.default.containers.get(n),r=this.getItems(),a=this.getItemWidth(r.length,t),l=this.state.isHorizontalScroll||this.state.isVerticalScroll,u=this.isExpandButtonShow(),d=l||this.popupService.isPopupShow(),h=i&&!this.popupService.isPopupShow(),f=i&&this.popupService.isPopupShow(),m=0,v=[],b=this.itemsToDraw(r,function(t){++m,e.state.qLastSelected!==t.qElemNumber&&(e.state.qLastSelected=t.qElemNumber),m<k&&v.push(t.qText)});if(m>k&&v.push("..."),this.isAlwaysOneSelected()&&r.length>0&&(m>1||0==m)){var g=r.filter(y.isOptionalItem),S=g.length>0&&g[0][0].qElemNumber||0;this.selectValues({selectFirst:!0,values:[S]})}var q=void 0,w=this.isHideTitle();this.props.options.hideLabel||(w?this._title=null:q=(0,c.h)("div",{ref:function(t){return e._title=t},className:"title qvt-visualization-title"},this.props.options.label));var _=void 0;_=o?(0,c.h)(o,{ref:function(t){return e._container=t},changeHandler:this.selectionHandler.bind(this),changeSelection:this.changeSelection.bind(this),finishSelection:this.finishSelection.bind(this),lastSelectedValue:this.state.qLastSelected,itemWidth:a,containerWidth:this.state.containerWidth,isTitleHidden:w,titleWidth:w?0:this.state.titleWidth,selectionColor:this.props.options.selectionColor,transparentStyle:this.props.options.transparentStyle,isChanging:this.state.isChanging,isScroll:this.state.isHorizontalScroll||this.state.isVerticalScroll,isPopup:this.popupService.isPopupShow(),isHidden:h},b):(0,c.h)("form",s({ref:function(t){return e._container=t}},this.eventsInjector(),{style:{paddingLeft:d?"47px":"0px",visibility:h||this.state.isChanging?"hidden":"visible"}}),(0,c.h)("div",{style:{display:"inline-block",width:"100%",position:"relative",height:"100%"}},b));var C=void 0;if(u){var P=function(t){t.preventDefault(),t.stopPropagation();var n=$(t.currentTarget&&t.currentTarget.parentElement),i=n.offset(),o=n.width(),r=e._container&&(e._container.tagName||e._container.base),a=$(r),s=a&&a.height()||n.height();e.popupService.setPopupShow(!e.popupService.isPopupShow(),{offset:i,width:o,height:s}),e.setState({isChanging:!0,changeType:O})};C=(0,c.h)("button",{className:"lui-fade-button qui-button btn-expand "+(h?"lui-button--compactmode":"")+" "+(m>0?"lui-button--hasselections":""),title:this.props.options.label+": "+v.join(", "),onClick:P,onTouchStart:P},this.popupService.isPopupShow()?(0,c.h)("span",{className:"lui-icon lui-button__icon lui-icon--close"}):(0,c.h)("span",{className:"lui-icon lui-button__icon lui-icon--menu"}),h&&0==v.length?(0,c.h)("span",{className:"lui-button__text expand-text"},this.props.options.label):h&&v.length>0?(0,c.h)("span",{className:"lui-button__text expand-text"},this.props.options.label,": ",v.join(", ")):void 0)}var T={height:"100%"};h?T.overflow="hidden":f?T.overflow="auto":(T.overflowX=this.state.isHorizontalScroll?"scroll":"hidden",T.overflowY=this.state.isVerticalScroll?"scroll":"hidden");var x=(0,c.h)("div",{ref:function(t){return e._main=t},className:"qv-object-simple-list qv-object-sl-touch",style:T},q,C,_);return this.popupService.isPopupShow()?this.popupService.showAsPopup(x):this.popupService.removePopupIfExists(),x}},{key:"getItems",value:function(){var e=this.props.options,t=e.data,n=e.hideExcluded,i=e.showFirstN,o=e.firstN,r=t.filter(y.filterExcluded.bind(null,n));return i&&(r=r.filter(function(e,t){return t<o})),r}},{key:"getSelectedValues",value:function(){var e=this.props.options.data;return e.filter(function(e){return(0,y.isSelectedItem)(e)}).map(function(e){return(0,y.getFieldValue)(e)})}},{key:"getItemWidth",value:function(e,t){return this.state.containerWidth||("h"===t?Math.floor(100/e)+"%":"100%")}},{key:"commitChanges",value:function(){this.state.changeType===w?this.setState({isChanging:!1,changeType:_}):this.state.changeType===C?this.setState({isChanging:!0,changeType:P}):this.setState({isChanging:!1,changeType:null})}},{key:"hideOrShowTitle",value:function(e){var t=e.hideLabel,n=e.itemWidthValue,i=e.itemWidth;this.state.isChanging&&this.state.changeType!=S||(void 0!==t&&this.state.hideLabel!=t?this.state.isChanging||this.state.hideLabel==t?n===this.state.itemWidthValue&&this.setState({hideLabel:t}):this.setState({isChanging:!0,changeType:S}):!this.state.isChanging&&void 0===t&&n>this.state.itemWidthValue?this.setState({containerWidth:i,itemWidthValue:n,hideLabel:!1,isChanging:!0,changeType:S}):this.state.isChanging&&this.commitChanges())}},{key:"changeSize",value:function(e){var t=e.itemWidth,n=e.titleWidth,i=e.itemWidthValue,o=e.containerWidth,r=e.containerHeight,a=this.state.containerWidthValue!==o||this.state.containerHeightValue!==r;if(this.state.containerWidth!==t||a){var s=this.state.itemWidthValue,l=this.state.windowHeight<window.innerHeight||this.state.windowWidth<window.innerWidth,c=this.state.changeType||C;this.setState({containerWidth:t,titleWidth:n,itemWidthValue:i,isItemWidthGrow:i>s,containerWidthValue:o,containerHeightValue:r,wasGrow:l,windowWidth:window.innerWidth,windowHeight:window.innerHeight,isChanging:!0,changeType:c}),a&&this.state.changeType!==O&&!this.state.isCompactMode&&this.popupService.removePopupIfExists()}}},{key:"changeRenderType",value:function(e){var t=e.mainWidth,n=e.mainHeight,i=e.containerWidth,o=e.containerHeight,r=e.containerPos,a=(e.titleWidth,e.titleHeight),s=e.titlePos;if(!this.state.isChanging||this.state.changeType===q||this.state.changeType===_){var l=this.props.options.renderAs,c=o;s&&r&&s.top<r.top&&(c+=a),this.props.options.alwaysOneSelected||(i<=T&&!this.state.wasGrow&&!this.state.isCompactMode&&l!=m.SELECT_RENDER?this.setState({isCompactMode:!0}):this.state.isCompactMode&&i>T&&this.setState({isCompactMode:!1})),l==m.BUTTON_RENDER&&!this.props.options.compactMode&&"h"===this.props.options.itemsLayout&&this.props.options.alwaysOneSelected?!this.state.renderAs&&(c>n||this.state.itemWidthValue<=x)?this.state.isChanging?this.state.renderAs!=m.SELECT_RENDER?this.setState({renderAs:m.SELECT_RENDER,switchBackWidthValue:t,hideLabel:!1,itemWidth:"auto",containerWidth:"auto",itemWidthValue:void 0,isItemWidthGrow:!1}):this.commitChanges():this.setState({isChanging:!0,changeType:q}):this.state.renderAs&&!this.state.isChanging?(t>this.state.switchBackWidthValue||c<=n&&this.state.isItemWidthGrow)&&this.setState({renderAs:null,switchBackWidthValue:null,isItemWidthGrow:!1,isChanging:!0,changeType:q}):this.state.isChanging&&this.commitChanges():this.state.isChanging&&this.commitChanges()}}},{key:"changeScroll",value:function(e){var t=(e.mainWidth,e.mainHeight),n=(e.containerWidth,e.containerHeight),i=e.containerPos,o=(e.titleWidth,e.titleHeight),r=e.titlePos;if(!(this.state.isChanging&&this.state.changeType!==w&&this.state.changeType!=P||this.props.options.alwaysOneSelected)){var a=this.props.options.renderAs,s=n;r&&i&&r.top<i.top&&(s+=o),a!=m.BUTTON_RENDER&&a!=m.CHECKBOX_RENDER&&a!=m.SWITCH_RENDER||"v"!==this.props.options.itemsLayout?a!=m.BUTTON_RENDER&&a!=m.CHECKBOX_RENDER&&a!=m.SWITCH_RENDER||"h"!==this.props.options.itemsLayout||(s>t&&!this.state.isVerticalScroll?this.setState({isVerticalScroll:!0}):s<t&&this.state.isVerticalScroll&&this.setState({isVerticalScroll:!1})):s>t&&!this.state.isVerticalScroll?this.setState({isVerticalScroll:!0}):s<t&&this.state.isVerticalScroll&&this.setState({isVerticalScroll:!1})}}},{key:"recalcSize",value:function(){var e,t,n,i=this.state.renderAs||this.props.options.renderAs,o=this._main,r=$(o),a=r.innerWidth(),s=r.innerHeight(),l=this._container&&(this._container.tagName||this._container.base),c=$(l),u=c.offset(),p=c.width(),d=c.height(),h=this._title,f=$(h);h&&!this.props.options.hideLabel&&(e=f.width()+6,t=f.height(),n=f.offset());var m=this.getItems().length;if("select"===i)if(this.props.options.hideLabel)"100%"!==this.state.containerWidth&&this.setState({containerWidth:"100%"});else{var v=a-e-6,b=v+"px";n&&u&&a-e<=44&&n.top+t<u.top&&(b="100%"),this.changeSize({itemWidth:b,itemWidthValue:v,titleWidth:e,containerWidth:p,containerHeight:d})}else if("h"===this.props.options.itemsLayout){if(this.props.options.hideLabel){var b=100/m+"%";this.changeSize({itemWidth:b,containerWidth:p,containerHeight:d})}else if(m>0){var v=Math.floor((a-e)/m-6),b=Math.floor(v)+"px";this.changeSize({itemWidth:b,itemWidthValue:v,titleWidth:e,containerWidth:p,containerHeight:d})}}else this.changeSize({itemWidth:"",containerWidth:p,containerHeight:d});this.changeRenderType({mainWidth:a,mainHeight:s,containerWidth:p,containerHeight:d,containerPos:u,titleWidth:e,titleHeight:t,titlePos:n}),this.changeScroll({mainWidth:a,mainHeight:s,containerWidth:p,containerHeight:d,containerPos:u,titleWidth:e,titleHeight:t,titlePos:n}),!this.state.isChanging||this.state.changeType!=w&&this.state.changeType!=_&&this.state.changeType!=P&&this.state.changeType!=O&&this.state.changeType!=C||this.commitChanges()}},{key:"changeSelection",value:function(e){var t=this.state.isSelectionStarted;if(t||this.props.options.alwaysOneSelected||(0!==e.buttons||e.touches&&e.touches.length)&&(t=!0,this.setState({isSelectionStarted:t,currentSelections:[]})),t){var n=void 0;n=e.touches&&e.touches.length?document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY):e.target,n&&(n.classList.contains("selectable")||n.classList.contains("selected"))&&this.selectionHandler({target:n,preventDefault:e.preventDefault.bind(e),stopPropagation:e.stopPropagation.bind(e)})}}},{key:"finishSelection",value:function(e){this.state.isSelectionStarted&&(this.makeSelection({value:this.state.currentSelections}),this.setState({isSelectionStarted:!1,currentSelections:[]}))}},{key:"selectionHandler",value:function(e,t){var n;if(t?n=parseInt(t.value):e&&(n=parseInt(e.target.getAttribute("data-value")||e.target.value)),this.state.isSelectionStarted&&this.state.currentSelections.indexOf(n)==-1&&(e.target.classList.contains("selectable")?(e.target.classList.remove("selectable"),e.target.classList.add("selected")):e.target.classList.contains("selected")&&(e.target.classList.remove("selected"),e.target.classList.add("selectable"))),"number"==typeof n&&!isNaN(n)){e.preventDefault(),e.stopPropagation();try{(this.props.options.alwaysOneSelected||this.props.options.toggleMode)&&this.popupService.removePopupIfExists()}finally{this.makeSelection({value:n,isKeepSelection:this.state.isSelectionStarted})}}return!0}},{key:"selectValues",value:function e(){var t=arguments.length<=0||void 0===arguments[0]?{false:!1,null:null}:arguments[0],n=t.selectFirst,i=t.isToggle,o=t.values,r=this.props.options.lockSelection,a=this.props.options,e=a.selectValues,s=a.lockField,l=a.unlockField,c=a.toggleMode,u=a.actions,p=a.subscribers,d=(a.app,!c);c||(d=i||!1);var h=o;n&&(this.state.qLastSelected=o.length>0?o[0]:0);var f=void 0;r&&(f=l());var m=function(t){return f?f.then(function(){return e(0,t,d)}):e(0,t,d)};p&&u&&p.once(this.onUpdateData),m(h).then(function(){r&&s()})}},{key:"makeSelection",value:function(e){var t=e.value,n=e.isKeepSelection,i=void 0!==n&&n,o=this;i&&o.state.currentSelections.indexOf(t)==-1&&o.state.currentSelections.push(t);var r=o.props.options.alwaysOneSelected,a=Array.isArray(t)?t[0]:t;i||r&&o.state.qLastSelected==a||o.selectValues({values:Array.isArray(t)?t:[t],isToggle:!r}),!i&&r&&(o.state.qLastSelected=Array.isArray(t)?t[0]:t)}},{key:"onUpdateData",value:function(e){var t=this.props.options.app;(0,g.default)(t,e,!0)}}]),t}(c.Component);t.default=L},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e,t,i){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],s=t[0];i.qListObject&&i.qListObject.qDataPages.length>0&&!function(){var t=i.qListObject.qDimensionInfo.qFallbackTitle,c=i.qListObject.qDataPages[0].qMatrix,u=i.qListObject.qDataPages[0].qArea,p=i.qListObject.qDimensionInfo.qGroupFieldDefs[i.qListObject.qDimensionInfo.qGroupPos].replace(/^=/,""),d=i.qListObject.qExpressions.length>0&&i.qListObject.qExpressions[0].qExpr,h=n.currApp(),f=function(){return h.global.session.rpc({handle:h.model.handle,method:"GetField",params:{qFieldName:p,qStateName:""}}).then(function(e){e.result&&e.result.qReturn&&e.result.qReturn.qHandle&&h.global.session.rpc({handle:e.result.qReturn.qHandle,method:"Lock",params:{}})})},m=function(){return h.global.session.rpc({handle:h.model.handle,method:"GetField",params:{qFieldName:p,qStateName:""}}).then(function(e){e.result&&e.result.qReturn&&e.result.qReturn.qHandle&&h.global.session.rpc({handle:e.result.qReturn.qHandle,method:"Unlock",params:{}})})},v=e.backendApi.selectValues.bind(e.backendApi),b=i.alwaysOneSelected||"select"===i.renderAs,y="rgb(70, 198, 70)",g=(e.backendApi,e.subscribers),S=r({},i,{layout:i,label:t,data:c,area:u,app:h,selectValues:v,lockField:f,unlockField:m,selectionColor:y,alwaysOneSelected:b,isResize:o,expValuesInsteadOfField:d,subscribers:g});(0,a.render)((0,a.h)(l.default,{options:S}),s,s.lastChild)}()}var n=e.Qlik;return{paint:function(e,n){t(this,e,n)},resize:function(e,n){t(this,e,n,!0)},updateData:function(e){return this.subscribers||(this.subscribers=new u.default,this.subscribers.once(function(){return(0,d.default)(n.currApp(),e,!0)})),this.subscribers.onUpdateData(e),n.Promise.resolve()},getDropFieldOptions:function(e,t,n,i,o){var r=e.item,a=r.type;if("field"===a){var s=t.createFieldDimension(r.name,r.name);t.replaceDimension(0,s).then(function(e){n.save?n.save():n.setProperties&&n.setProperties(t.properties)})}},getDropDimensionOptions:function(e,t,n,i){var o=e.item,r=o.type;if("dimension"===r){var a=t.createLibraryDimension(o.id);t.replaceDimension(0,a).then(function(e){n.save?n.save():n.setProperties&&n.setProperties(t.properties)})}},destroy:function(e,t){var n=e[0];n&&(0,a.render)((0,a.h)("span",null),n,n)}}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=o;var a=n(1),s=n(13),l=i(s),c=n(19),u=i(c),p=n(3),d=i(p)},function(e,t,n){"use strict";function i(){function e(e){a||(a=document.createElement("div"),a.className="sl-popup sl-popup-tooltip",a.style.left=s.left+"px",a.style.top=s.top+"px",l&&(a.style.width=l+"px"),c&&(a.style.height=c+"px"),document.body.appendChild(a)),(0,o.render)(e,a,a.lastChild),r=!0}function t(){return!!a&&(a.removeChild(a.lastChild),r=!1,document.body.removeChild(a),a=void 0,!0)}function n(){return r}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.offset,i=t.width,o=t.height,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,p=10,d=10;n?s=n:s||(s={top:0,left:0}),!i&&l||(l=p+Math.max(i,120)),!o&&c||(c=d+Math.min(o,254)),s.left+l>a&&(s.left=Math.max(0,a-l-p-1)),s.top+c>u&&(s.top=Math.max(0,u-c-d-1)),r=e}var r=!1,a=void 0,s=void 0,l=void 0,c=void 0;return{showAsPopup:e,removePopupIfExists:t,isPopupShow:n,setPopupShow:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.createPopupService=i;var o=n(1)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){switch(e.toLowerCase()){case"barchart":return"icon-bar-chart-vertical";case"linechart":return"icon-line-chart";case"table":return"icon-table";case"pivot-table":return"icon-pivot-table";case"components":return"icon-components";case"piechart":return"icon-pie-chart";case"filterpane":return"icon-filterpane";case"listbox":return"icon-list";case"gauge":return"icon-gauge-chart";case"kpi":return"icon-kpi";case"scatterplot":return"icon-scatter-chart";case"text-image":return"icon-text-image";case"treemap":return"icon-treemap";case"map":return"icon-map";case"combochart":return"icon-combo-chart";default:return"icon-extension"}}function l(e,t){return t(e)?e:e&&l(e.parentNode,t)}function c(e,t){var n=e.className.split(" ");return n.indexOf(t)>=0}function u(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:null}function p(e){return Array.isArray(e)?"[ ]":"object"===("undefined"==typeof e?"undefined":m(e))?"{ }":"undefined"==typeof e?"undefined":m(e)}function d(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function h(e){return"function"==typeof e&&e||null}function f(e,t){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];if(e==t)return n;if("object"===("undefined"==typeof e?"undefined":m(e))&&e){var i=Object.keys(e),o=i.indexOf(t);if(o!=-1)return n+"/"+i[o];for(var r in e){var a=f(e[r],t,n+"/"+r);if(a)return a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.RootPropertyComponent=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.getIconName=s;var y=n(1),g=(t.RootPropertyComponent=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),b(t,[{key:"render",value:function(e,t){var n=this,i=t.currentSelection||e.currentSelection,o=e.properties,r=f(o,i)+"/"+i;return(0,y.h)("div",null,e.children.map(function(e){var t=e.attributes.name,i=t&&r.search(new RegExp(t+"(?=$|/)"))!=-1,o=v({},e.attributes,{parent:n,currentSelection:r,isActive:i});return(0,y.cloneElement)(e,o)}))}},{key:"setCurrentSelection",value:function(e){this.setState({currentSelection:e})}}]),t}(y.Component),function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this));return n.state.isExpanded=e.isActive,n.onExpand=n.onExpand.bind(n),n.onSelectProperty=n.onSelectProperty.bind(n),n}return a(t,e),b(t,[{key:"onExpand",
value:function(){var e=this.state.isExpanded;this.setState({isExpanded:!e})}},{key:"getFullPath",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];"string"==typeof e.props.name&&t.push(e.props.name),e.props.parent&&e.getFullPath(e.props.parent,t);var n=[].concat(i(t)).reverse().join("/");return n}},{key:"getRootParent",value:function(e,t){var n=e||this;return n.props.parent&&(n.isExpanded||n.onExpand(),n=this.getRootParent(n.props.parent)),n}},{key:"setCurrentSelection",value:function(e){this.setState({currentSelection:e})}},{key:"onSelectProperty",value:function(){var e=void 0;if(!this.props.isExcludeFromSelection){var t=this.getRootParent();if(t){e=this.props.isGetLastSelectedItem?this.props.name:this.getFullPath(this),t.setCurrentSelection(e);var n=t.props.onSelectItem||this.props.onSelectItem;n&&n(e,this.props)}}}},{key:"isExpanded",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.state.isExpanded||0===e}},{key:"render",value:function(e,n){var i=this,o=e.properties,r=h(e.onGetName),a=h(e.onGetValue),s=h(e.onGetIcon),l=h(e.onGetMetaData),c=r&&r(e)||e.name,f=a&&a(e)||e.value,v=e.isGetLastSelectedItem,b=s&&s(e)||e.icon,g=!("undefined"!=typeof e.isHideType&&e.isHideType),S=n.currentSelection||e.currentSelection,q=v?S.search(new RegExp("/"+c+"$"))!=-1:e.isActive,w=e.typeDescription,_=e.level||0,O=e.onSelectItem,C=e.onGetSubItems,P=C&&C.call(this,e)||"object"==("undefined"==typeof o?"undefined":m(o))&&Object.keys(o)||[];l&&l(e);var T=void 0;o&&P.length>0?T=this.isExpanded(_)?(0,y.h)("span",{class:"lui-list__aside lui-icon lui-icon--minus "+(q?"lui-text-success":"")}):(0,y.h)("span",{class:"lui-list__aside lui-icon lui-icon--plus "+(q?"lui-text-success":"")}):o&&0==P.length?T=(0,y.h)("span",{class:"lui-list__aside lui-icon lui-icon--close "+(q?"lui-text-success":""),style:{opacity:.5}}):b||(T=(0,y.h)("span",{class:"lui-list__aside lui-icon lui-icon--tag "+(q?"lui-text-success":""),style:{opacity:.7}}));var x=void 0;return b&&(x=0==b.indexOf("data-icon=")?(0,y.h)("span",{className:"dicon","data-icon":""+b.replace("data-icon=","")}):(0,y.h)("span",{className:"lui-icon "+b})),(0,y.h)("div",{tabindex:0,style:{clear:"both",paddingLeft:10*_,cursor:"pointer"}},_>0&&(0,y.h)("div",{className:"lui-list__item",style:{minHeight:"28px",height:"28px"},onClick:this.onExpand},T,(0,y.h)("span",{className:"lui-list__text",style:{whiteSpace:"nowrap"}},(0,y.h)("span",{className:"lui-tag "+(q?"lui-bg-success":""),style:{textAlign:"center"},onClick:this.onSelectProperty.bind(this)},x,"",c,""),g&&(0,y.h)("span",{className:"lui-text-default",style:{fontSize:"1.1em"}},"",w,null!=f&&(0,y.h)("span",{className:"lui-text-default"},"=")),null!=f&&(0,y.h)("span",{className:"lui-text-success"},f))),this.isExpanded(_)&&P.map(function(n,c){var h=r&&r(n)||n,f=a&&a(n)||u(o[n]),m=p(o[n]),g=S&&i.getFullPath(i),q=v?h:d(g+"/"+h),w=S&&S.search(new RegExp(q+"(?=$|/)"))!=-1,P=a&&o[n]||!f&&o[n];return(0,y.h)(t,{name:h,index:c,onGetName:r,value:f,onGetValue:a,icon:b,onGetIcon:s,isHideType:e.isHideType,typeDescription:m,properties:P,parent:i,level:_+1,isActive:w,currentSelection:w||v?S:null,isGetLastSelectedItem:v,onSelectItem:O,onGetSubItems:C,onGetMetaData:l})}))}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=l(this.base,function(e){return c(e,"dialog__body")});e&&(e.scrollTop=e.scrollTop+this.base.getBoundingClientRect().top)}}}]),t}(y.Component));t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=n(2),u=i(c),p=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.itemWidth,n=this.props.isChanging,i={width:"100%"};n&&(i.visibility="hidden");var o=void 0;o=this.props.transparentStyle?"lui-select qui-select touch transparent-select":"lui-select lui-select--toolbar qui-select touch";var r="";return isNaN(this.props.lastSelectedValue)||(r=this.props.lastSelectedValue),t&&(i.width=t),(0,l.h)("select",{ref:function(t){return e._select=t},onChange:function(t){e.props.changeHandler(t,{value:t.target.value,text:t.target.options[t.target.selectedIndex].text})},onTouchStart:function(){var t=e._select;t&&t.focus()},value:r,className:o,style:i},this.props.children)}}]),t}(l.Component);t.default=p;var d=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.data,t=this.props.text,n=this.props.isSelected;return(0,l.h)("option",{value:e,"data-value":e,selected:n},t)}}]),t}(l.Component);u.default.items.register("select",d),u.default.containers.register("select",p)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=n(2),u=i(c),p=0,d=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillMount",value:function(){t.incrementScopeId()}},{key:"render",value:function(){var e=this.props.data,n=this.props.text,i=this.props.renderAs,o=this.props.itemsLayout,r=this.props.isSelected,a={padding:"2px"},s={float:"left"},c={float:"left",margin:"2px"};r&&(c.fontWeight="bold"),"h"===o?a.float="left":a.clear="both";var u={},p="";if(r&&(u.backgroundColor=this.props.selectionColor,p=(0,l.h)("style",{scoped:"true",dangerouslySetInnerHTML:t.css(this.props.selectionColor)})),"senseswitch"===i)return(0,l.h)("div",{style:a},(0,l.h)("div",{className:"lui-switch qui-onoffswitch",style:s},(0,l.h)("label",{className:"lui-switch__label onoffswitch-label"},(0,l.h)("input",{type:"checkbox",className:"lui-switch__checkbox onoffswitch-checkbox",checked:r}),(0,l.h)("span",{className:"lui-switch__span onoffswitch-span"},(0,l.h)("div",{className:"lui-switch__inner onoffswitch-inner","data-value":e,"data-text":n}),(0,l.h)("div",{className:"lui-switch__switch onoffswitch-switch","data-value":e,"data-text":n})))),(0,l.h)("div",{className:"switch-title",style:c},n));var d=["lui-checkbox__check","check"];return r?d.push("selected"):d.push("selectable"),(0,l.h)("label",{className:"lui-checkbox qui-checkbox",style:a},(0,l.h)("input",{className:"lui-checkbox__input",type:"checkbox",checked:r}),(0,l.h)("div",{className:"lui-checkbox__check-wrap check-wrap"},(0,l.h)("span",{"data-value":e,"data-text":n,draggable:"true",className:d.join(" "),style:u}),(0,l.h)("span",{"data-value":e,"data-text":n,className:"lui-checkbox__check-text check-text"},n)))}}],[{key:"getScopeId",value:function(){return"sc"+p}},{key:"incrementScopeId",value:function(){++p}},{key:"css",value:function(e){return{__html:"#"+t.getScopeId()+' .onoffswitch-inner:before {content: ""; background: '+e+" !important; color: #ffffff; }"}}}]),t}(l.Component);t.default=d,u.default.items.register("sensecheckbox",d),u.default.items.register("senseswitch",d)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.subscribers=[]}return o(e,[{key:"once",value:function(e){this.subscribers.push(e)}},{key:"onUpdateData",value:function(e){if(this.subscribers.length>0){var t=[].concat(n(this.subscribers));this.subscribers=[],t.forEach(function(t){return t(e)})}}}]),e}();t.default=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?f=h.concat(f):v=-1,f.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=f.length;t;){for(h=f,f=[];++v<t;)h&&h[v].run();v=-1,t=f.length}h=null,m=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,p,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var h,f=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return m[f]=i,h(f),f++}function o(e){delete m[e]}function r(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function a(e){if(v)setTimeout(a,0,e);else{var t=m[e];if(t){v=!0;try{r(t)}finally{o(e),v=!1}}}}function s(){h=function(e){t.nextTick(function(){a(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),h=function(n){e.postMessage(t+n,"*")}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},h=function(t){e.port2.postMessage(t)}}function p(){var e=b.documentElement;h=function(t){var n=b.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){h=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var h,f=1,m={},v=!1,b=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():l()?c():e.MessageChannel?u():b&&"onreadystatechange"in b.createElement("script")?p():d(),y.setImmediate=i,y.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(20))},function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(21),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate}]);